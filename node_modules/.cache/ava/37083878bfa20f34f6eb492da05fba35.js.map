{"version":3,"sources":["wait-event.js"],"names":["test","require","t","EventEmitter","event","setTimeout","emit","result","wait","is","e","name"],"mappings":";;;;AAAA,MAAMA,OAAOC,QAAQ,KAAR,CAAb;;AAEAD,KAAK,YAAL;AAAA,+BAAmB,WAAOE,CAAP,EAAa;AAC9B,UAAM,EAAEC,YAAF,KAAmBF,QAAQ,QAAR,CAAzB;AACA,UAAMG,QAAQ,IAAID,YAAJ,EAAd;;AAEAE,eAAW,YAAY;AACrBD,YAAME,IAAN,CAAW,OAAX,EAAoB,QAApB;AACD,KAFD,EAEG,IAFH;AAGA,UAAMC,SAAS,MAAMC,KAAKJ,KAAL,EAAY,OAAZ,CAArB;AACAF,MAAEO,EAAF,CAAKF,MAAL,EAAa,QAAb;AACD,GATD;;AAAA;AAAA;AAAA;AAAA;;AAWAP,KAAK,cAAL;AAAA,gCAAqB,WAAOE,CAAP,EAAa;AAChC,UAAM,EAAEC,YAAF,KAAmBF,QAAQ,QAAR,CAAzB;AACA,UAAMG,QAAQ,IAAID,YAAJ,EAAd;;AAEAE,eAAW,YAAY;AACrBD,YAAME,IAAN,CAAW,OAAX,EAAoB,QAApB;AACD,KAFD,EAEG,IAFH;;AAIA,QAAI;AACF,YAAME,KAAKJ,KAAL,EAAY,OAAZ,EAAqB,IAArB,CAAN;AACD,KAFD,CAEE,OAAOM,CAAP,EAAU;AACVR,QAAEO,EAAF,CAAKC,EAAEC,IAAP,EAAa,cAAb;AACD;AACF,GAbD;;AAAA;AAAA;AAAA;AAAA","file":"wait-event.js","sourcesContent":["const test = require('ava');\n\ntest('wait ready', async (t) => {\n  const { EventEmitter } = require('events');\n  const event = new EventEmitter()\n\n  setTimeout(function () {\n    event.emit('ready', 'result')\n  }, 1000);\n  const result = await wait(event, 'ready');\n  t.is(result, 'result')\n})\n\ntest('wait timeout', async (t) => {\n  const { EventEmitter } = require('events');\n  const event = new EventEmitter()\n\n  setTimeout(function () {\n    event.emit('ready', 'result')\n  }, 1000);\n\n  try {\n    await wait(event, 'ready', 2000);\n  } catch (e) {\n    t.is(e.name, 'TimeoutError')\n  }\n})\n"]}